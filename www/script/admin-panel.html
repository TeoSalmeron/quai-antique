<script>
    class Button {
        constructor(button, relatedBox) {
            this.button = document.getElementById(button)
            this.relatedBox = document.getElementById(relatedBox)
        }
    }
    const adminNav = document.getElementById('adminNav')
    const adminNavList = document.getElementById("adminNavList")
    const toggleAdminNav = document.getElementById("toggleAdminNav")
    const toggleAdminNavImg = document.getElementById("toggleAdminNavImg")
    const adminNavItems = document.getElementsByClassName("admin_nav_item")
    const toggleRestaurantInfo = document.getElementById("toggleRestaurantInfo")
    const sectionRestaurantInfo = document.getElementById("restaurantInfo")
    const toggleManageDish = document.getElementById('toggleManageDish')
    const sectionManageDish = document.getElementById('manageDish')
    const toggleManageMenu = document.getElementById('toggleManageMenu')
    const sectionManageMenu = document.getElementById('manageMenu')
    const toggleManageImage = document.getElementById('toggleManageImage')
    const sectionManageImage = document.getElementById('manageImage')
    const sections = [sectionRestaurantInfo, sectionManageDish, sectionManageMenu, sectionManageImage]
    const sectionsButtons = [toggleRestaurantInfo, toggleManageDish, toggleManageMenu, toggleManageImage]
    const editRestaurantInfoBtn1 = new Button("edit1", "editBox1")
    const editRestaurantInfoBtn2 = new Button("edit2", "editBox2")
    const editRestaurantInfoBtn3 = new Button("edit3", "editBox3")
    const editRestaurantInfoBtn4 = new Button("edit4", "editBox4")
    const editRestaurantInfoBtn5 = new Button("edit5", "editBox5") 
    const editRestaurantInfoBtn6 = new Button("edit6", "editBox6")
    const editRestaurantInfoButtons = [editRestaurantInfoBtn1, editRestaurantInfoBtn2, editRestaurantInfoBtn3, editRestaurantInfoBtn4, editRestaurantInfoBtn5, editRestaurantInfoBtn6 ]

    function closeNav() {
        toggleAdminNavImg.src = "../img/menu.png"
        toggleAdminNavImg.style.width = "50px"
        toggleAdminNavImg.style.left = "0px"
        toggleAdminNavImg.style.bottom = "0px"
        for (let item of adminNavItems) {
            item.style.left = "-100%"
        }
        setTimeout(() => {
            adminNavList.style.left = "-100vw"
        }, 1000);
    }

    function openNav() {
        adminNavList.style.left = "0px"
        toggleAdminNavImg.src = "../img/close.png"
        toggleAdminNavImg.style.width = "33px"
        toggleAdminNavImg.style.left = "5px"
        toggleAdminNavImg.style.bottom = "2.5px"
        for (let item of adminNavItems) {
            item.style.left = "0px"
        }
    }
    // Toggle navbar
    toggleAdminNav.addEventListener('click', () => {
        adminNav.classList.toggle("is_active")
        if(adminNav.classList.contains("is_active")) {
            openNav()
        } else {
            closeNav()
        }
    })

    // Navbar actions
    toggleRestaurantInfo.addEventListener('click', () => {
        closeNav()
        adminNav.classList.remove("is_active")
        sectionManageDish.style.display = "none"
        sectionManageMenu.style.display = "none"
        sectionManageImage.style.display = "none"
        sectionRestaurantInfo.style.display = "flex"
    })

    toggleManageDish.addEventListener('click', () => {
        closeNav()
        adminNav.classList.remove("is_active")
        sectionManageMenu.style.display = "none"
        sectionManageImage.style.display = "none"
        sectionRestaurantInfo.style.display = "none"
        sectionManageDish.style.display = "flex"
    })

    toggleManageMenu.addEventListener('click', () => {
        closeNav()
        adminNav.classList.remove("is_active")
        sectionManageDish.style.display = "none"
        sectionManageImage.style.display = "none"
        sectionRestaurantInfo.style.display = "none"
        sectionManageMenu.style.display = "flex"
    })

    toggleManageImage.addEventListener('click', () => {
        
        closeNav()
        adminNav.classList.remove("is_active")
        sectionManageDish.style.display = "none"
        sectionManageMenu.style.display = "none"
        sectionRestaurantInfo.style.display = "none"
        sectionManageImage.style.display = "flex"
    })

    // RESTAURANT INFORMATIONS

    // Toggle edit div
    for (let item of editRestaurantInfoButtons) {
        item.button.addEventListener('click', (e) => {
            e.preventDefault()
            item.relatedBox.classList.toggle("visible-flex")
            if(item.relatedBox.classList.contains("visible-flex")) {
                item.button.innerText = "Fermer"
            } else {
                item.button.innerText = "Modifier"
            }
        })
    }
    
    // MANAGE IMAGE


</script>